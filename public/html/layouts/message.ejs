<div class="messageContainer">
  <div class="messageButton">
    <i class="ri-chat-1-line"></i>
  </div>
  <div class="messageBox hidden">
    <div class="messageWindow"></div>
    <textarea id="messageBox" placeholder="Enter your message"></textarea>
  </div>
</div>
<script>
  const ws = new WebSocket();
  const messageButton = document.querySelector(".ri-chat-1-line");
  const messageBox = document.querySelector(".messageBox");
  const messageBoxText = document.querySelector("#messageBox");
  const messageWindow = document.querySelector(".messageWindow");

  messageButton.addEventListener("click", () => {
    if (messageBox.classList.contains("hidden")) {
      messageBox.classList.remove("hidden");
    } else {
      messageBox.classList.add("hidden");
    }
  });

  messageBoxText.addEventListener("keydown", async (e) => {
    if (e.keyCode == 13) {
      if (messageBoxText.value == "") {
        e.preventDefault();
        messageBoxText.value = "";

        return false;
      }
      e.preventDefault();
      await postMessage(messageBoxText.value);

      messageBoxText.value = "";

      return false;
    }
  });
</script>
